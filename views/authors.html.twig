<html>
<head>
    <title>Authors</title>
</head>
<body>
    <h1>Authors</h1>

    {% if authors is not empty %}
        <p>Here are all your authors:</p>
        <ul>
            {% for author in authors %}
              <li>
                <a href="/author/{{ author.getId }}">{{ author.getName }}</a><br>
                <button><a href='/author/{{ author.getId }}/edit'>Edit</a></button>
                <form action="/author/{{ author.getId }}/delete" method="post">
                <input name="_method" type="hidden" value="delete">
                <button type="submit">Delete</button>
                </form>
              </li>
            {% endfor %}
        </ul>
        {% else %}
          <h3>There are no authors yet, add some!</h3>
    {% endif %}

    <form action='/authors' method='post'>
        <label for='name'>Author name:</label>
        <input id='name' name='name' type='text'>

        <button type='submit'>Add</button>
    </form>
    <form action='/delete_authors' method='post'>
        <button type='submit'>Clear</button>
    </form>

    {% if form %}
      <form action="/authors/updated" method="post">
      <input name="_method" type="hidden" value="patch">
      <input name="current_authorId" type="hidden" value="{{ author.getId() }}">
      <input type="text" name="name">
      <button type="submit" name="button">Edit Name</button>
      </form>
    {% endif %}

    <p><a href='/'>Home</a></p>
</body>
</html>
